<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>FerrisChat</title>
    </head>

    <body style=background-color:#67bde0>
        <div style="width: 800px; margin: auto;">
            <canvas id="canvas" width="800" height="800"></canvas>
            <div>
                <input id="chat_input" type="text" style="font-size: 25px; vertical-align: middle;">
                <button id="chat_button" onclick="chat_clicked()" style="height: 35px; vertical-align: middle;">
                    Chat!
                </button>
                <audio autoplay loop controls style="height: 30px; float: right;">
                    <source src="crab_rave.mp3" type="audio/mp3">
                </audio>
            </div>
        </div>

        <img id="rustacean" width="1" height="1" src="rustacean.png">
        <img id="rustacean_right" width="1" height="1" src="rustacean_right.png">
        <img id="rustacean_left" width="1" height="1" src="rustacean_left.png">
        <img id="water_wave_0" width="1" height="1" src="water_wave_0.png">
        <img id="water_wave_1" width="1" height="1" src="water_wave_1.png">
        <img id="water_wave_2" width="1" height="1" src="water_wave_2.png">

        <script src="ferris_chat_client.js"></script>
        <script>
            // When a chat message is entered, insert the value into local storage
            // for our "read_from_local_storage" Rust function to read at a later
            // point in time.
            function chat_clicked() {
                let msg = document.getElementById("chat_input").value;
                window.localStorage.setItem("chat_input", msg);

                // Clear the input
                document.getElementById("chat_input").value = "";
            }

            // Snippet which allows us to click the chat_button element when
            // the return key is pressed then released.
            document.querySelector("#chat_input").addEventListener("keyup", event => {
                if (event.key !== "Enter") return;
                document.querySelector("#chat_button").click();
                event.preventDefault();
            });
        </script>
        
    </body>
</html>